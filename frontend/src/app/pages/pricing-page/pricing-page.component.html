<div class="min-h-screen bg-white dark:bg-black text-gray-900 dark:text-white transition-colors duration-300">
  <!-- Toast Notifications -->
  <app-toast></app-toast>
  
  <!-- Theme Toggle Button -->
  <div class="fixed top-6 right-6 z-50">
    <button 
      (click)="toggleTheme()"
      class="p-3 rounded-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200">
      <svg *ngIf="!isDarkMode" class="w-5 h-5 text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
      </svg>
      <svg *ngIf="isDarkMode" class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
      </svg>
    </button>
  </div>
  
  <div class="container mx-auto px-4 py-16">
    <!-- Header -->
    <div class="text-center mb-16">
      <h1 class="text-5xl md:text-6xl font-bold mb-4">
        Choose Your Plan
      </h1>
      <p class="text-gray-600 dark:text-gray-400 text-lg mb-12 max-w-2xl mx-auto">
        Select the perfect plan for your needs
      </p>
      
      <!-- Billing Cycle Toggle -->
      <div *ngIf="pricingData && !error" class="flex justify-center mb-8">
        <app-billing-cycle-toggle
          [selectedCycle]="selectedCycle"
          (cycleChanged)="onBillingCycleChanged($event)">
        </app-billing-cycle-toggle>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="text-center py-20">
      <div class="inline-block animate-spin rounded-full h-12 w-12 border-2 border-gray-200 dark:border-gray-800 border-t-gray-900 dark:border-t-white"></div>
      <p class="mt-6 text-gray-600 dark:text-gray-400">Processing payment...</p>
    </div>

    <!-- Pricing Cards Grid -->
    <div *ngIf="pricingData && !error && !isLoading" 
         class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto">
      
      <!-- Standard Pricing Plans -->
      <app-pricing-card
        *ngFor="let plan of allPlans"
        [plan]="plan"
        [selectedCycle]="selectedCycle"
        [isCustom]="false"
        (planSelected)="onPlanSelected($event)">
      </app-pricing-card>

      <!-- Custom Pricing Card -->
      <app-pricing-card
        [plan]="{
          plan_id: 'custom',
          name: customPlan.name,
          monthlyAmount: 0,
          annualAmount: 0,
          features: [customPlan.description]
        }"
        [selectedCycle]="selectedCycle"
        [isCustom]="true"
        (contactClicked)="onContactClick()">
      </app-pricing-card>
    </div>

    <!-- No Data State -->
    <div *ngIf="!pricingData && !error && !isLoading" class="text-center py-20">
      <div class="text-gray-500 dark:text-gray-400">No pricing data available.</div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="py-8 text-center border-t border-gray-200 dark:border-gray-800">
    <p class="text-sm text-gray-600 dark:text-gray-400">
      Powered by 
      <a 
        href="https://vibgyor.co.in" 
        target="_blank" 
        rel="noopener noreferrer"
        class="font-semibold hover:underline transition-all duration-200"
        style="color: #ed4e00;">
        Vibgyor
      </a>
      <span class="mx-2">â€¢</span>
      <span class="inline-flex items-center gap-1">
        <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        Secure Payments
      </span>
    </p>
  </footer>
</div>
